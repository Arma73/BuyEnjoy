{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectSpread\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _app = _interopRequireDefault(require(\"next/app\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _nextReduxWrapper = _interopRequireDefault(require(\"next-redux-wrapper\"));\n\nvar _nextReduxSaga = _interopRequireDefault(require(\"next-redux-saga\"));\n\nvar _reactSizes = require(\"react-sizes\");\n\nvar _head = _interopRequireDefault(require(\"next/head\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _CssBaseline = _interopRequireDefault(require(\"@material-ui/core/CssBaseline\"));\n\nvar _MaterialUI = _interopRequireDefault(require(\"../theme/Material-UI\"));\n\nvar _store = _interopRequireDefault(require(\"../store\"));\n\nrequire(\"../utils/route-watcher\");\n\nrequire(\"./styles.scss\");\n\nclass MyApp extends _app.default {\n  constructor() {\n    super(...arguments);\n    (0, _defineProperty2.default)(this, \"createUrl\", router => {\n      const pathname = router.pathname,\n            asPath = router.asPath,\n            query = router.query;\n      return {\n        get query() {\n          return query;\n        },\n\n        get pathname() {\n          return pathname;\n        },\n\n        get asPath() {\n          return asPath;\n        },\n\n        back: () => {\n          router.back();\n        },\n        push: (url, as) => router.push(url, as),\n        pushTo: (href, as) => {\n          const pushRoute = as ? href : null;\n          const pushUrl = as || href;\n          return router.push(pushRoute, pushUrl);\n        },\n        replace: (url, as) => router.replace(url, as),\n        replaceTo: (href, as) => {\n          const replaceRoute = as ? href : null;\n          const replaceUrl = as || href;\n          return router.replace(replaceRoute, replaceUrl);\n        }\n      };\n    });\n  }\n\n  static getInitialProps(_ref) {\n    return (0, _asyncToGenerator2.default)(function* () {\n      let Component = _ref.Component,\n          ctx = _ref.ctx;\n      let pageProps = {};\n\n      if (ctx.isServer) {\n        const sizesFallback = ctx.req.sizesFallback;\n        pageProps.sizesFallback = sizesFallback;\n      }\n\n      if (Component.getInitialProps) {\n        const componentProps = yield Component.getInitialProps(ctx);\n        pageProps = (0, _objectSpread2.default)({}, pageProps, componentProps);\n      }\n\n      return {\n        pageProps\n      };\n    })();\n  }\n\n  componentDidMount() {\n    //Remove the server-side injected CSS.\n    const jssStyles = document.querySelector(\"#jss-server-side\");\n\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps,\n          router = _this$props.router,\n          store = _this$props.store;\n    const url = this.createUrl(router);\n    return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_head.default, null, _react.default.createElement(\"title\", null, \"BuyEnjoy\"), _react.default.createElement(\"meta\", {\n      name: \"viewport\",\n      content: \"minimum-scale=1, initial-scale=1, width=device-width\"\n    })), _react.default.createElement(_reactRedux.Provider, {\n      store: store\n    }, _react.default.createElement(_reactSizes.SizesProvider, {\n      config: pageProps.sizesFallback\n    }, _react.default.createElement(_styles.ThemeProvider, {\n      theme: _MaterialUI.default\n    }, _react.default.createElement(_CssBaseline.default, null), _react.default.createElement(Component, (0, _extends2.default)({}, pageProps, {\n      url: url\n    }))))));\n  }\n\n}\n\nvar _default = (0, _nextReduxWrapper.default)(_store.default)((0, _nextReduxSaga.default)(MyApp));\n\nexports.default = _default;","map":{"version":3,"sources":["/home/arma/My/Software/Projects/Story_SSR_Custom/pages/_app.jsx"],"names":["MyApp","App","router","pathname","asPath","query","back","push","url","as","pushTo","href","pushRoute","pushUrl","replace","replaceTo","replaceRoute","replaceUrl","getInitialProps","Component","ctx","pageProps","isServer","sizesFallback","req","componentProps","componentDidMount","jssStyles","document","querySelector","parentElement","removeChild","render","props","store","createUrl","theme","Store"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport App from \"next/app\";\nimport { Provider } from \"react-redux\";\nimport withRedux from \"next-redux-wrapper\";\nimport withReduxSaga from \"next-redux-saga\";\nimport { SizesProvider } from \"react-sizes\";\nimport Head from \"next/head\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport theme from \"theme/Material-UI\";\nimport Store from \"store\";\nimport \"utils/route-watcher\";\n\nimport \"./styles.scss\";\n\nclass MyApp extends App {\n\tstatic async getInitialProps({ Component, ctx }) {\n\t\tlet pageProps = {};\n\t\tif (ctx.isServer) {\n\t\t\tconst { sizesFallback } = ctx.req;\n\t\t\tpageProps.sizesFallback = sizesFallback;\n\t\t}\n\t\tif (Component.getInitialProps) {\n\t\t\tconst componentProps = await Component.getInitialProps(ctx);\n\t\t\tpageProps = { ...pageProps, ...componentProps };\n\t\t}\n\t\treturn { pageProps };\n\t}\n\n\tcomponentDidMount() {\n\t\t//Remove the server-side injected CSS.\n\t\tconst jssStyles = document.querySelector(\"#jss-server-side\");\n\t\tif (jssStyles) {\n\t\t\tjssStyles.parentElement.removeChild(jssStyles);\n\t\t}\n\t}\n\n\tcreateUrl = router => {\n\t\tconst { pathname, asPath, query } = router;\n\t\treturn {\n\t\t\tget query() {\n\t\t\t\treturn query;\n\t\t\t},\n\t\t\tget pathname() {\n\t\t\t\treturn pathname;\n\t\t\t},\n\t\t\tget asPath() {\n\t\t\t\treturn asPath;\n\t\t\t},\n\t\t\tback: () => {\n\t\t\t\trouter.back();\n\t\t\t},\n\t\t\tpush: (url, as) => router.push(url, as),\n\t\t\tpushTo: (href, as) => {\n\t\t\t\tconst pushRoute = as ? href : null;\n\t\t\t\tconst pushUrl = as || href;\n\n\t\t\t\treturn router.push(pushRoute, pushUrl);\n\t\t\t},\n\t\t\treplace: (url, as) => router.replace(url, as),\n\t\t\treplaceTo: (href, as) => {\n\t\t\t\tconst replaceRoute = as ? href : null;\n\t\t\t\tconst replaceUrl = as || href;\n\n\t\t\t\treturn router.replace(replaceRoute, replaceUrl);\n\t\t\t}\n\t\t};\n\t};\n\n\trender() {\n\t\tconst { Component, pageProps, router, store } = this.props;\n\t\tconst url = this.createUrl(router);\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Head>\n\t\t\t\t\t<title>BuyEnjoy</title>\n\t\t\t\t\t<meta\n\t\t\t\t\t\tname=\"viewport\"\n\t\t\t\t\t\tcontent=\"minimum-scale=1, initial-scale=1, width=device-width\"\n\t\t\t\t\t/>\n\t\t\t\t</Head>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<SizesProvider config={pageProps.sizesFallback}>\n\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t\t<Component {...pageProps} url={url} />\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t</SizesProvider>\n\t\t\t\t</Provider>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default withRedux(Store)(withReduxSaga(MyApp));\n"]},"metadata":{},"sourceType":"script"}